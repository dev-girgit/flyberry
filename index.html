<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>Flyberry Gourmet</title>
		<meta name="description" content="Build your own gourmet basket with Flyberry" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&family=Baloo+2:wght@400;500;600;700;800&display=swap" rel="stylesheet">
		<style>
			body {
				height: 100vh;
				overflow: hidden;
				position: relative;
				margin: 0;
				padding: 0;
				background: white;
			}
			
			/* 3D Fireworks Canvas */
			#fireworks-canvas {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 5;
				pointer-events: none;
			}
			
			/* Background video */
			.bg-video {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 60vw;
				height: 60vh;
				object-fit: contain;
				z-index: -1;
				margin-top: 40px;
			}
			
			/* Video overlay to cover top line */
			.bg-video::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				height: 3px;
				background-color: white;
				z-index: 1;
			}
			
			/* Corner elements */
			.corner {
				position: absolute;
				z-index: 100;
			}
			
			.top-left {
				top: 40px;
				left: 20px;
			}
			
			.top-right {
				top: 40px;
				right: 20px;
				font-size: 3.2em;
				font-weight: 900;
				color: #333;
				font-family: 'Nunito', sans-serif;
				line-height: 1.1;
				text-align: right;
			}
			
			.bottom-left {
				bottom: 60px;
				left: 60px;
				font-size: 1.8em;
				color: black;
				font-family: 'Baloo 2', sans-serif;
			}
			
			.bottom-right {
				bottom: 60px;
				right: 60px;
				font-size: 1.8em;
				color: black;
				font-family: 'Baloo 2', sans-serif;
			}
			
			.logo {
				max-width: 360px;
				height: auto;
				margin-top: -45px;
			}
			
			/* Center content */
			.center-content {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				text-align: center;
				z-index: 50;
			}
			
			.centered-logo {
				max-width: 150px;
				height: auto;
				margin-bottom: 30px;
				display: block;
				margin-left: auto;
				margin-right: auto;
			}
			
			/* Title above video */
			.title-above {
				position: absolute;
				top: 0%;
				left: 50%;
				transform: translateX(-50%);
				text-align: center;
				z-index: 100;
				padding: 60px 20px 60px 20px;
				margin-top: 10px;
			}
			
			.byob-text {
				font-size: 8em;
				font-weight: 800;
				color: #f1c608;
				font-family: 'Baloo 2', sans-serif;
				margin-bottom: 5px;
				letter-spacing: 2px;
				padding: 5px 0;
				text-align: center;
				width: 100%;
				max-width: 600px;
				margin-left: auto;
				margin-right: auto;
			}
			
			.main-title {
				font-size: 3.6em;
				font-weight: 600;
				color: #ff7e00;
				font-family: 'Baloo 2', sans-serif;
				line-height: 1.1;
				padding: 5px 0;
				margin-bottom: 40px;
				text-align: center;
				width: 100%;
				max-width: 600px;
				margin-left: auto;
				margin-right: auto;
			}
			
			/* Logo below video */
			.logo-bottom {
				position: absolute;
				bottom: 15%;
				left: 50%;
				transform: translateX(-50%);
				text-align: center;
				z-index: 100;
			}
			
			.bottom-logo {
				max-width: 180px;
				height: auto;
			}
			
			/* Footer info under logo */
			.footer-info {
				margin-top: 15px;
				font-size: 1.2em;
				color: #333;
				font-family: 'Nunito', sans-serif;
				text-align: center;
			}
			
			.website-text, .instagram-text {
				color: #333;
			}
			
			.divider {
				margin: 0 15px;
				color: #333;
				font-weight: bold;
			}
			
			.ready-button {
				background: transparent;
				color: white;
				border: none;
				padding: 20px 40px;
				font-size: 2.25em;
				font-weight: bold;
				cursor: pointer;
				text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
				opacity: 0.8;
				animation: blink 1.5s infinite;
				font-family: 'Baloo 2', sans-serif;
			}
			
			.ready-button:hover {
				animation-play-state: paused;
			}
			
			@keyframes blink {
				0%, 50% {
					opacity: 0.8;
				}
				51%, 100% {
					opacity: 0.3;
				}
			}
			
			/* Responsive adjustments */
			@media screen and (max-width: 768px) {
				.corner {
					font-size: 0.9em;
				}
				
				.top-right {
					font-size: 1.4em;
				}
				
				.logo {
					max-width: 120px;
				}
				
				.centered-logo {
					max-width: 120px;
					margin-bottom: 25px;
				}
				
				.title-above {
					top: 0%;
					padding: 50px 15px 50px 15px;
					margin-top: 5px;
				}
				
				.bottom-left {
					left: 40px;
				}
				
				.bottom-right {
					right: 40px;
				}
				
				.byob-text {
					font-size: 5em;
					max-width: 500px;
				}
				
				.main-title {
					font-size: 2.8em;
					max-width: 500px;
				}
				
				.bottom-logo {
					max-width: 140px;
				}
				
				.footer-info {
					font-size: 1em;
					margin-top: 12px;
				}
				
				.divider {
					margin: 0 10px;
				}
				
				.main-gif {
					width: 50vw;
					height: 50vh;
				}
				
				.ready-button {
					padding: 15px 30px;
					font-size: 1.3em;
				}
			}
			
			@media screen and (max-width: 480px) {
				.corner {
					font-size: 0.8em;
				}
				
				.top-right {
					font-size: 1.2em;
				}
				
				.logo {
					max-width: 100px;
				}
				
				.centered-logo {
					max-width: 100px;
					margin-bottom: 20px;
				}
				
				.title-above {
					top: 0%;
					padding: 40px 10px 40px 10px;
					margin-top: 3px;
				}
				
				.bottom-left {
					left: 30px;
				}
				
				.bottom-right {
					right: 30px;
				}
				
				.byob-text {
					font-size: 4em;
					max-width: 400px;
				}
				
				.main-title {
					font-size: 2.4em;
					max-width: 400px;
				}
				
				.bottom-logo {
					max-width: 120px;
				}
				
				.footer-info {
					font-size: 0.9em;
					margin-top: 10px;
				}
				
				.divider {
					margin: 0 8px;
				}
				
				.main-gif {
					width: 50vw;
					height: 50vh;
				}
				
				.ready-button {
					padding: 12px 25px;
					font-size: 1.1em;
				}
			}
			
			/* Optimized for 46:27 aspect ratio (narrow portrait screens ~360-428px width) */
			@media screen and (max-width: 430px) and (min-aspect-ratio: 1/2) {
				.corner {
					font-size: 0.7em;
				}
				
				.top-left {
					top: 20px;
					left: 15px;
				}
				
				.top-right {
					top: 20px;
					right: 15px;
					font-size: 1em;
					line-height: 1;
				}
				
				.bottom-left, .bottom-right {
					bottom: 40px;
					font-size: 0.9em;
				}
				
				.bottom-left {
					left: 25px;
				}
				
				.bottom-right {
					right: 25px;
				}
				
				.logo {
					max-width: 80px;
					margin-top: -25px;
				}
				
				.centered-logo {
					max-width: 80px;
					margin-bottom: 15px;
				}
				
				.title-above {
					top: 0%;
					padding: 35px 8px 35px 8px;
					margin-top: 2px;
				}
				
				.byob-text {
					font-size: 3.6em;
					max-width: 350px;
				}
				
				.main-title {
					font-size: 2em;
					max-width: 350px;
				}
				
				.bottom-logo {
					max-width: 100px;
				}
				
				.footer-info {
					font-size: 0.8em;
					margin-top: 8px;
				}
				
				.divider {
					margin: 0 6px;
				}
				
				.ready-button {
					padding: 10px 20px;
					font-size: 1em;
					border-radius: 8px;
				}
			}
			
			/* Extra narrow screens */
			@media screen and (max-width: 360px) {
				.top-right {
					font-size: 0.9em;
				}
				
				.bottom-left, .bottom-right {
					font-size: 0.8em;
				}
				
				.logo {
					max-width: 70px;
				}
				
				.centered-logo {
					max-width: 70px;
					margin-bottom: 12px;
				}
				
				.title-above {
					top: 0%;
					padding: 30px 5px 30px 5px;
					margin-top: 1px;
				}
				
				.byob-text {
					font-size: 3em;
					max-width: 300px;
				}
				
				.main-title {
					font-size: 1.8em;
					max-width: 300px;
				}
				
				.bottom-logo {
					max-width: 80px;
				}
				
				.footer-info {
					font-size: 0.7em;
					margin-top: 6px;
				}
				
				.divider {
					margin: 0 4px;
				}
				
				.ready-button {
					padding: 8px 16px;
					font-size: 0.9em;
				}
			}
		</style>
	</head>
	<body>
		<!-- 3D Fireworks Canvas -->
		<canvas id="fireworks-canvas"></canvas>
		
		<!-- Background Video -->
		<video class="bg-video" id="bgVideo" autoplay muted loop playsinline>
			<source src="https://pub-6cc4523d456f472f9551ffbb385c3633.r2.dev/VIDEO%20FINAL.mp4" type="video/mp4">
			Your browser does not support the video tag.
		</video>
		
		<!-- Top Left: Logo -->
		<div class="corner top-left">
			<!-- Logo moved to center, this div now empty -->
		</div>
		
		<!-- Top Right: Empty now -->
		<div class="corner top-right">
			<!-- Title moved to center above video -->
		</div>
		
		<!-- Title above video -->
		<div class="title-above">
			<div class="byob-text">BYOB</div>
			<div class="main-title">BUILD YOUR<br>OWN BASKET</div>
		</div>
		
		<!-- Bottom Left: Website -->
		<div class="corner bottom-left">
			<!-- Moved under logo -->
		</div>
		
		<!-- Bottom Right: Instagram -->
		<div class="corner bottom-right">
			<!-- Moved under logo -->
		</div>
		
		<!-- Center Content: Button -->
		<div class="center-content">
			<button class="ready-button">Tap to explore</button>
		</div>
		
		<!-- Logo below video with footer info -->
		<div class="logo-bottom">
			<img src="logo.png" alt="Flyberry Logo" class="bottom-logo">
			<div class="footer-info">
				<span class="website-text">www.flyberry.in</span>
				<span class="divider">â€¢</span>
				<span class="instagram-text">@flyberrygourmet</span>
			</div>
		</div>
		
		<script>
			// ðŸŽ† BALLISTIC 3D FIREWORKS SYSTEM ðŸ’¥
			let scene, camera, renderer, fireworks = [];
			let animationId;
			let ballistic = true; // MAXIMUM CHAOS MODE
			
			function initFireworks() {
				// Scene setup
				scene = new THREE.Scene();
				
				// Camera with MORE perspective for EXTREME 3D depth
				camera = new THREE.PerspectiveCamera(90, window.innerWidth / window.innerHeight, 0.1, 2000);
				camera.position.z = 80;
				camera.position.y = -20;
				
				// Enhanced renderer for MAXIMUM VISUAL IMPACT
				const canvas = document.getElementById('fireworks-canvas');
				renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
				renderer.setSize(window.innerWidth, window.innerHeight);
				renderer.setClearColor(0x000000, 0);
				renderer.shadowMap.enabled = true;
				
				// Start the MADNESS
				animate();
				
				// ðŸš€ BALLISTIC LAUNCH PATTERNS ðŸš€
				// Rapid fire every 150ms instead of 800ms!
				setInterval(createFirework, 150);
				
				// Chain reaction bursts every 300ms
				setInterval(createChainReaction, 400);
				
				// Mega explosion every 2 seconds
				setInterval(createMegaExplosion, 2000);
				
				// Continuous barrage mode
				setInterval(createBarrage, 1200);
				
				// ðŸ’¥ IMMEDIATE EXPLOSIVE WELCOME ðŸ’¥
				setTimeout(() => {
					// Launch 15 rockets immediately!
					for(let i = 0; i < 15; i++) {
						setTimeout(() => createFirework(), i * 50);
					}
					// Follow up with mega explosion
					setTimeout(() => createMegaExplosion(), 800);
				}, 500);
			}
			
			function createFirework(isSpecial = false) {
				const firework = {
					particles: [],
					launched: false,
					exploded: false,
					rocket: null,
					isSpecial: isSpecial
				};
				
				// ðŸ’¥ BALLISTIC LAUNCH POSITIONS ðŸ’¥
				const startX = (Math.random() - 0.5) * 120; // WIDER SPREAD
				const startY = -60; // DEEPER START
				const startZ = (Math.random() - 0.5) * 100; // MUCH DEEPER 3D
				
				// ðŸŽ¯ EXPLOSIVE TARGET ZONES ðŸŽ¯
				const targetX = startX + (Math.random() - 0.5) * 40;
				const targetY = Math.random() * 40 + 20; // HIGHER EXPLOSIONS
				const targetZ = startZ + (Math.random() - 0.5) * 60;
				
				// ðŸš€ BIGGER, FASTER ROCKETS ðŸš€
				const rocketSize = isSpecial ? 0.8 : 0.5; // Special rockets are HUGE
				const rocketGeometry = new THREE.SphereGeometry(rocketSize, 12, 8);
				const rocketMaterial = new THREE.MeshBasicMaterial({ 
					color: new THREE.Color().setHSL(Math.random(), 1.0, 0.8),
					transparent: true,
					opacity: 1.0,
					emissive: new THREE.Color().setHSL(Math.random(), 0.5, 0.3)
				});
				const rocket = new THREE.Mesh(rocketGeometry, rocketMaterial);
				rocket.position.set(startX, startY, startZ);
				scene.add(rocket);
				
				firework.rocket = rocket;
				firework.startPos = { x: startX, y: startY, z: startZ };
				firework.targetPos = { x: targetX, y: targetY, z: targetZ };
				firework.velocity = { x: 0, y: 0, z: 0 };
				firework.launchTime = Date.now();
				
				fireworks.push(firework);
			}
			
			// ðŸŒŸ CHAIN REACTION EXPLOSIONS ðŸŒŸ
			function createChainReaction() {
				const centerX = (Math.random() - 0.5) * 60;
				const centerY = Math.random() * 30 + 10;
				const centerZ = (Math.random() - 0.5) * 40;
				
				// Launch 5 rockets in a pattern
				for(let i = 0; i < 5; i++) {
					setTimeout(() => {
						const angle = (i / 5) * Math.PI * 2;
						const firework = {
							particles: [],
							launched: false,
							exploded: false,
							rocket: null,
							chainReaction: true
						};
						
						const startX = centerX + Math.cos(angle) * 15;
						const startY = -50;
						const startZ = centerZ + Math.sin(angle) * 15;
						
						const rocketGeometry = new THREE.SphereGeometry(0.4, 8, 6);
						const rocketMaterial = new THREE.MeshBasicMaterial({ 
							color: new THREE.Color(0xFFD700),
							transparent: true,
							opacity: 1.0
						});
						const rocket = new THREE.Mesh(rocketGeometry, rocketMaterial);
						rocket.position.set(startX, startY, startZ);
						scene.add(rocket);
						
						firework.rocket = rocket;
						firework.startPos = { x: startX, y: startY, z: startZ };
						firework.targetPos = { x: centerX + Math.cos(angle) * 10, y: centerY, z: centerZ + Math.sin(angle) * 10 };
						firework.launchTime = Date.now();
						
						fireworks.push(firework);
					}, i * 100);
				}
			}
			
			// ðŸ’¥ MEGA EXPLOSION - ABSOLUTELY INSANE ðŸ’¥
			function createMegaExplosion() {
				const firework = {
					particles: [],
					launched: false,
					exploded: false,
					rocket: null,
					megaExplosion: true
				};
				
				const centerX = (Math.random() - 0.5) * 40;
				const centerY = Math.random() * 20 + 25;
				const centerZ = (Math.random() - 0.5) * 30;
				
				// MASSIVE EXPLOSION PARTICLES - 300+ particles!
				const particleCount = 300 + Math.random() * 200;
				
				for (let i = 0; i < particleCount; i++) {
					const geometry = new THREE.SphereGeometry(0.2 + Math.random() * 0.3, 8, 6);
					
					// ULTRA BRIGHT COLORS
					const brandColors = [
						new THREE.Color(0xFFD700), // Ultra Gold
						new THREE.Color(0xf1c608), // Brand Yellow
						new THREE.Color(0xFF4500), // Red Orange
						new THREE.Color(0xFF1493), // Deep Pink
						new THREE.Color(0x00FFFF), // Cyan
						new THREE.Color(0xFF69B4), // Hot Pink
						new THREE.Color(0x32CD32), // Lime Green
						new THREE.Color(0xFFFFFF), // Pure White
					];
					
					const color = brandColors[Math.floor(Math.random() * brandColors.length)];
					const material = new THREE.MeshBasicMaterial({ 
						color: color,
						transparent: true,
						opacity: 1.0,
						emissive: color.clone().multiplyScalar(0.3)
					});
					
					const particle = new THREE.Mesh(geometry, material);
					particle.position.set(centerX, centerY, centerZ);
					
					// EXPLOSIVE 3D VELOCITY
					const phi = Math.random() * Math.PI * 2;
					const theta = Math.random() * Math.PI;
					const speed = 25 + Math.random() * 35; // MUCH FASTER
					
					particle.velocity = {
						x: speed * Math.sin(theta) * Math.cos(phi),
						y: speed * Math.sin(theta) * Math.sin(phi),
						z: speed * Math.cos(theta)
					};
					
					particle.life = 2.0; // LONGER LASTING
					particle.decay = 0.008 + Math.random() * 0.012; // SLOWER DECAY
					particle.gravity = -0.15 - Math.random() * 0.1;
					
					// Some GIANT particles for extra impact
					if (Math.random() < 0.15) {
						particle.scale.multiplyScalar(3);
						particle.decay *= 0.3;
					}
					
					scene.add(particle);
					firework.particles.push(particle);
				}
				
				firework.exploded = true;
				fireworks.push(firework);
			}
			
			// ðŸ”¥ CONTINUOUS BARRAGE MODE ðŸ”¥
			function createBarrage() {
				// Launch 8 rockets simultaneously from different positions
				for(let i = 0; i < 8; i++) {
					setTimeout(() => createFirework(Math.random() < 0.3), i * 30);
				}
			}
			
			function explodeFirework(firework) {
				if (firework.exploded) return;
				firework.exploded = true;
				
				// Remove rocket
				scene.remove(firework.rocket);
				
				// ðŸ’¥ BALLISTIC EXPLOSION SETTINGS ðŸ’¥
				let particleCount = 150 + Math.random() * 100; // MINIMUM 150 particles!
				
				// Special explosion types for MAXIMUM CHAOS
				if (firework.isSpecial) particleCount = 250 + Math.random() * 150; // SPECIAL = INSANE
				if (firework.chainReaction) particleCount = 120 + Math.random() * 80; // Chain = dense
				if (firework.megaExplosion) return; // Mega explosions handle themselves
				
				const baseHue = Math.random();
				
				// ðŸŒˆ EXPANDED BALLISTIC COLOR PALETTE ðŸŒˆ
				const ballistic_colors = [
					new THREE.Color(0xFFD700), // Ultra Gold
					new THREE.Color(0xf1c608), // Brand Yellow  
					new THREE.Color(0xFF4500), // Red Orange
					new THREE.Color(0xFF1493), // Deep Pink
					new THREE.Color(0x00FFFF), // Cyan
					new THREE.Color(0xFF69B4), // Hot Pink
					new THREE.Color(0x32CD32), // Lime Green
					new THREE.Color(0xFFFFFF), // Pure White
					new THREE.Color(0xFF0000), // Pure Red
					new THREE.Color(0x8A2BE2), // Blue Violet  
					new THREE.Color(0x00FF00), // Pure Green
					new THREE.Color(0xFFA500), // Orange
					new THREE.Color(0xFF6347), // Tomato
					new THREE.Color(0x4169E1), // Royal Blue
				];
				
				for (let i = 0; i < particleCount; i++) {
					// BIGGER, MORE VARIED PARTICLES
					const size = 0.2 + Math.random() * 0.25;
					const geometry = new THREE.SphereGeometry(size, 8, 6);
					
					// ULTRA-BRIGHT COLORS WITH EMISSIVE GLOW
					const color = ballistic_colors[Math.floor(Math.random() * ballistic_colors.length)];
					const material = new THREE.MeshBasicMaterial({ 
						color: color,
						transparent: true,
						opacity: 1.0,
						emissive: color.clone().multiplyScalar(0.4) // GLOWING EFFECT
					});
					
					const particle = new THREE.Mesh(geometry, material);
					particle.position.copy(firework.rocket.position);
					
					// ðŸš€ BALLISTIC 3D EXPLOSION PHYSICS ðŸš€
					const phi = Math.random() * Math.PI * 2;
					const theta = Math.random() * Math.PI;
					let speed = 20 + Math.random() * 40; // MUCH FASTER
					
					// Some particles get EXTREME speed
					if (Math.random() < 0.2) speed *= 1.8;
					
					particle.velocity = {
						x: speed * Math.sin(theta) * Math.cos(phi),
						y: speed * Math.sin(theta) * Math.sin(phi),
						z: speed * Math.cos(theta)
					};
					
					particle.life = 1.5 + Math.random() * 1.0; // LONGER LASTING
					particle.decay = 0.008 + Math.random() * 0.015; // SLOWER DECAY
					particle.gravity = -0.2 - Math.random() * 0.15;
					
					// 25% chance for MEGA PARTICLES
					if (Math.random() < 0.25) {
						particle.scale.multiplyScalar(2.5 + Math.random() * 2);
						particle.decay *= 0.4; // Last much longer
					}
					
					// 10% chance for ULTRA MEGA PARTICLES  
					if (Math.random() < 0.1) {
						particle.scale.multiplyScalar(4);
						particle.decay *= 0.2;
						particle.material.emissive.multiplyScalar(2);
					}
					
					scene.add(particle);
					firework.particles.push(particle);
				}
			}
			
			function updateFireworks() {
				for (let i = fireworks.length - 1; i >= 0; i--) {
					const firework = fireworks[i];
					
					if (!firework.exploded && firework.rocket) {
						// ðŸš€ BALLISTIC ROCKET PHYSICS ðŸš€
						const elapsed = (Date.now() - firework.launchTime) / 1000;
						let speed = firework.isSpecial ? 4 : 3; // Special rockets are FASTER
						if (firework.chainReaction) speed = 5; // Chain rockets are LIGHTNING FAST
						
						const progress = Math.min(elapsed * speed, 1);
						
						if (progress >= 1) {
							explodeFirework(firework);
						} else {
							// BALLISTIC trajectory with MORE dramatic arc
							const t = progress;
							const arcHeight = firework.isSpecial ? 20 : 15; // Higher arcs
							
							firework.rocket.position.x = THREE.MathUtils.lerp(firework.startPos.x, firework.targetPos.x, t);
							firework.rocket.position.z = THREE.MathUtils.lerp(firework.startPos.z, firework.targetPos.z, t);
							firework.rocket.position.y = THREE.MathUtils.lerp(firework.startPos.y, firework.targetPos.y, t) + 
								Math.sin(t * Math.PI) * arcHeight;
							
							// Add rocket trail sparkle effect
							if (Math.random() < 0.3) {
								const sparkle = new THREE.Mesh(
									new THREE.SphereGeometry(0.1, 4, 4),
									new THREE.MeshBasicMaterial({ 
										color: firework.rocket.material.color,
										transparent: true,
										opacity: 0.8
									})
								);
								sparkle.position.copy(firework.rocket.position);
								sparkle.life = 0.3;
								sparkle.decay = 0.1;
								scene.add(sparkle);
								
								// Add to particles for cleanup
								if (!firework.particles) firework.particles = [];
								firework.particles.push(sparkle);
							}
						}
					}
					
					// Update explosion particles
					for (let j = firework.particles.length - 1; j >= 0; j--) {
						const particle = firework.particles[j];
						
						// Apply physics
						particle.velocity.y += particle.gravity * 0.016; // Gravity
						particle.velocity.x *= 0.99; // Air resistance
						particle.velocity.z *= 0.99;
						
						// Update position
						particle.position.x += particle.velocity.x * 0.016;
						particle.position.y += particle.velocity.y * 0.016;
						particle.position.z += particle.velocity.z * 0.016;
						
						// Update life and appearance
						particle.life -= particle.decay;
						particle.material.opacity = particle.life * 0.9;
						
						// Scale effect for more dynamic look
						const scaleLife = Math.max(0, (particle.life - 0.5) * 2);
						particle.scale.setScalar(0.5 + scaleLife * 1.5);
						
						// Remove dead particles
						if (particle.life <= 0) {
							scene.remove(particle);
							firework.particles.splice(j, 1);
						}
					}
					
					// Remove empty fireworks
					if (firework.exploded && firework.particles.length === 0) {
						fireworks.splice(i, 1);
					}
				}
			}
			
			function animate() {
				animationId = requestAnimationFrame(animate);
				
				updateFireworks();
				
				// ðŸŽ¥ BALLISTIC CAMERA MOVEMENT FOR MAXIMUM 3D IMPACT ðŸŽ¥
				const time = Date.now() * 0.001;
				camera.position.x = Math.sin(time) * 12 + Math.cos(time * 0.7) * 8;
				camera.position.y = -20 + Math.sin(time * 0.5) * 10;
				camera.position.z = 80 + Math.cos(time * 0.3) * 15;
				
				// Dynamic look-at for more dramatic 3D perspective
				const lookAtX = Math.sin(time * 0.2) * 10;
				const lookAtY = Math.cos(time * 0.3) * 8;
				camera.lookAt(lookAtX, lookAtY, 0);
				
				renderer.render(scene, camera);
			}
			
			// Handle window resize
			function onWindowResize() {
				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();
				renderer.setSize(window.innerWidth, window.innerHeight);
			}
			
			window.addEventListener('resize', onWindowResize);
			
			// Navigation functions
			function goToSelection() {
				// Stop fireworks animation before navigating
				if (animationId) {
					cancelAnimationFrame(animationId);
				}
				window.location.href = 'selection.html';
			}
			
			// Initialize fireworks when page loads
			window.addEventListener('load', () => {
				setTimeout(initFireworks, 500);
			});
			
			// Make entire page clickable
			document.addEventListener('click', goToSelection);
		</script>
	</body>
</html>

