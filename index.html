<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>Flyberry Gourmet - Build Your Own Basket</title>
		<meta name="description" content="Build your own gourmet basket with premium dates, nuts, and artisanal products at Flyberry Gourmet" />
		
		<!-- Critical CSS inlined for instant rendering -->
		<style>
			/* Critical above-the-fold styles */
			body{height:100vh;overflow:hidden;position:relative;margin:0;padding:0;background:#fff;font-family:'Nunito',-apple-system,BlinkMacSystemFont,sans-serif}
			#fireworks-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;pointer-events:none}
			.bg-video{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:60vw;height:60vh;object-fit:contain;z-index:-1;margin-top:40px}
			.title-above{position:absolute;top:0%;left:50%;transform:translateX(-50%);text-align:center;z-index:100;padding:60px 20px;margin-top:10px}
			.byob-text{font-size:8em;font-weight:800;color:#f1c608;font-family:'Baloo 2',cursive;margin-bottom:5px;letter-spacing:2px;padding:5px 0;text-align:center;width:100%;max-width:600px;margin:0 auto 5px}
			.main-title{font-size:3.6em;font-weight:600;color:#ff7e00;font-family:'Baloo 2',cursive;line-height:1.1;padding:5px 0;margin:0 auto 40px;text-align:center;width:100%;max-width:600px}
			.center-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:50}
			.ready-button{background:transparent;color:#fff;border:none;padding:20px 40px;font-size:2.25em;font-weight:bold;cursor:pointer;text-shadow:2px 2px 4px rgba(0,0,0,0.7);opacity:0.8;animation:blink 1.5s infinite;font-family:'Baloo 2',cursive}
			.ready-button:hover{animation-play-state:paused}
			@keyframes blink{0%,50%{opacity:0.8}51%,100%{opacity:0.3}}
			.logo-bottom{position:absolute;bottom:15%;left:50%;transform:translateX(-50%);text-align:center;z-index:100}
			.bottom-logo{max-width:180px;height:auto}
			.footer-info{margin-top:15px;font-size:1.2em;color:#333;font-family:'Nunito',sans-serif;text-align:center}
			@media (max-width:768px){.byob-text{font-size:5em}.main-title{font-size:2.8em}.ready-button{padding:15px 30px;font-size:1.3em}}
			@media (max-width:480px){.byob-text{font-size:4em}.main-title{font-size:2.4em}.ready-button{padding:12px 25px;font-size:1.1em}}
		</style>
		
		<!-- Enhanced resource hints -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preconnect" href="https://cdnjs.cloudflare.com">
		<link rel="preconnect" href="https://pub-6cc4523d456f472f9551ffbb385c3633.r2.dev">
		<link rel="dns-prefetch" href="//fonts.gstatic.com">
		<link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
		
		<!-- Preload critical resources -->
		<link rel="preload" href="logo.webp" as="image" fetchpriority="high">
		<link rel="prefetch" href="selection.html">
		<link rel="prefetch" href="byob.html">
		
		<!-- Optimized font loading with fallbacks -->
		<link rel="preload" href="https://fonts.gstatic.com/s/nunito/v24/XRXV3I6Li01BKofIOOaBXso.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="https://fonts.gstatic.com/s/baloo2/v21/wXK2E2wfpokopxzthSqPbcR5.woff2" as="font" type="font/woff2" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&family=Baloo+2:wght@400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'"">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&family=Baloo+2:wght@400;500;600;700;800&display=swap" rel="stylesheet"></noscript>
		
		<!-- Defer non-critical CSS -->
		<link rel="preload" href="css/normalize.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
		<noscript><link rel="stylesheet" href="css/normalize.css"></noscript>
		<link rel="preload" href="css/demo.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
		<noscript><link rel="stylesheet" href="css/demo.css"></noscript>
		
		<!-- Defer Three.js loading -->
		<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" as="script">
		<style>
			body {
				height: 100vh;
				overflow: hidden;
				position: relative;
				margin: 0;
				padding: 0;
				background: white;
			}
			
			/* 3D Fireworks Canvas */
			#fireworks-canvas {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 5;
				pointer-events: none;
			}
			
			/* Background video */
			.bg-video {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 60vw;
				height: 60vh;
				object-fit: contain;
				z-index: -1;
				margin-top: 40px;
			}
			
			/* Video overlay to cover top line */
			.bg-video::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				height: 3px;
				background-color: white;
				z-index: 1;
			}
			
			/* Corner elements */
			.corner {
				position: absolute;
				z-index: 100;
			}
			
			.top-left {
				top: 40px;
				left: 20px;
			}
			
			.top-right {
				top: 40px;
				right: 20px;
				font-size: 3.2em;
				font-weight: 900;
				color: #333;
				font-family: 'Nunito', sans-serif;
				line-height: 1.1;
				text-align: right;
			}
			
			.bottom-left {
				bottom: 60px;
				left: 60px;
				font-size: 1.8em;
				color: black;
				font-family: 'Baloo 2', sans-serif;
			}
			
			.bottom-right {
				bottom: 60px;
				right: 60px;
				font-size: 1.8em;
				color: black;
				font-family: 'Baloo 2', sans-serif;
			}
			
			.logo {
				max-width: 360px;
				height: auto;
				margin-top: -45px;
			}
			
			/* Center content */
			.center-content {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				text-align: center;
				z-index: 50;
			}
			
			.centered-logo {
				max-width: 150px;
				height: auto;
				margin-bottom: 30px;
				display: block;
				margin-left: auto;
				margin-right: auto;
			}
			
			/* Title above video */
			.title-above {
				position: absolute;
				top: 0%;
				left: 50%;
				transform: translateX(-50%);
				text-align: center;
				z-index: 100;
				padding: 60px 20px 60px 20px;
				margin-top: 10px;
			}
			
			.byob-text {
				font-size: 8em;
				font-weight: 800;
				color: #f1c608;
				font-family: 'Baloo 2', sans-serif;
				margin-bottom: 5px;
				letter-spacing: 2px;
				padding: 5px 0;
				text-align: center;
				width: 100%;
				max-width: 600px;
				margin-left: auto;
				margin-right: auto;
			}
			
			.main-title {
				font-size: 3.6em;
				font-weight: 600;
				color: #ff7e00;
				font-family: 'Baloo 2', sans-serif;
				line-height: 1.1;
				padding: 5px 0;
				margin-bottom: 40px;
				text-align: center;
				width: 100%;
				max-width: 600px;
				margin-left: auto;
				margin-right: auto;
			}
			
			/* Logo below video */
			.logo-bottom {
				position: absolute;
				bottom: 15%;
				left: 50%;
				transform: translateX(-50%);
				text-align: center;
				z-index: 100;
			}
			
			.bottom-logo {
				max-width: 180px;
				height: auto;
			}
			
			/* Footer info under logo */
			.footer-info {
				margin-top: 15px;
				font-size: 1.2em;
				color: #333;
				font-family: 'Nunito', sans-serif;
				text-align: center;
			}
			
			.website-text, .instagram-text {
				color: #333;
			}
			
			.divider {
				margin: 0 15px;
				color: #333;
				font-weight: bold;
			}
			
			.ready-button {
				background: transparent;
				color: white;
				border: none;
				padding: 20px 40px;
				font-size: 2.25em;
				font-weight: bold;
				cursor: pointer;
				text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
				opacity: 0.8;
				animation: blink 1.5s infinite;
				font-family: 'Baloo 2', sans-serif;
			}
			
			.ready-button:hover {
				animation-play-state: paused;
			}
			
			@keyframes blink {
				0%, 50% {
					opacity: 0.8;
				}
				51%, 100% {
					opacity: 0.3;
				}
			}
			
			/* Responsive adjustments */
			@media screen and (max-width: 768px) {
				.corner {
					font-size: 0.9em;
				}
				
				.top-right {
					font-size: 1.4em;
				}
				
				.logo {
					max-width: 120px;
				}
				
				.centered-logo {
					max-width: 120px;
					margin-bottom: 25px;
				}
				
				.title-above {
					top: 0%;
					padding: 50px 15px 50px 15px;
					margin-top: 5px;
				}
				
				.bottom-left {
					left: 40px;
				}
				
				.bottom-right {
					right: 40px;
				}
				
				.byob-text {
					font-size: 5em;
					max-width: 500px;
				}
				
				.main-title {
					font-size: 2.8em;
					max-width: 500px;
				}
				
				.bottom-logo {
					max-width: 140px;
				}
				
				.footer-info {
					font-size: 1em;
					margin-top: 12px;
				}
				
				.divider {
					margin: 0 10px;
				}
				
				.main-gif {
					width: 50vw;
					height: 50vh;
				}
				
				.ready-button {
					padding: 15px 30px;
					font-size: 1.3em;
				}
			}
			
			@media screen and (max-width: 480px) {
				.corner {
					font-size: 0.8em;
				}
				
				.top-right {
					font-size: 1.2em;
				}
				
				.logo {
					max-width: 100px;
				}
				
				.centered-logo {
					max-width: 100px;
					margin-bottom: 20px;
				}
				
				.title-above {
					top: 0%;
					padding: 40px 10px 40px 10px;
					margin-top: 3px;
				}
				
				.bottom-left {
					left: 30px;
				}
				
				.bottom-right {
					right: 30px;
				}
				
				.byob-text {
					font-size: 4em;
					max-width: 400px;
				}
				
				.main-title {
					font-size: 2.4em;
					max-width: 400px;
				}
				
				.bottom-logo {
					max-width: 120px;
				}
				
				.footer-info {
					font-size: 0.9em;
					margin-top: 10px;
				}
				
				.divider {
					margin: 0 8px;
				}
				
				.main-gif {
					width: 50vw;
					height: 50vh;
				}
				
				.ready-button {
					padding: 12px 25px;
					font-size: 1.1em;
				}
			}
			
			/* Optimized for 46:27 aspect ratio (narrow portrait screens ~360-428px width) */
			@media screen and (max-width: 430px) and (min-aspect-ratio: 1/2) {
				.corner {
					font-size: 0.7em;
				}
				
				.top-left {
					top: 20px;
					left: 15px;
				}
				
				.top-right {
					top: 20px;
					right: 15px;
					font-size: 1em;
					line-height: 1;
				}
				
				.bottom-left, .bottom-right {
					bottom: 40px;
					font-size: 0.9em;
				}
				
				.bottom-left {
					left: 25px;
				}
				
				.bottom-right {
					right: 25px;
				}
				
				.logo {
					max-width: 80px;
					margin-top: -25px;
				}
				
				.centered-logo {
					max-width: 80px;
					margin-bottom: 15px;
				}
				
				.title-above {
					top: 0%;
					padding: 35px 8px 35px 8px;
					margin-top: 2px;
				}
				
				.byob-text {
					font-size: 3.6em;
					max-width: 350px;
				}
				
				.main-title {
					font-size: 2em;
					max-width: 350px;
				}
				
				.bottom-logo {
					max-width: 100px;
				}
				
				.footer-info {
					font-size: 0.8em;
					margin-top: 8px;
				}
				
				.divider {
					margin: 0 6px;
				}
				
				.ready-button {
					padding: 10px 20px;
					font-size: 1em;
					border-radius: 8px;
				}
			}
			
			/* Extra narrow screens */
			@media screen and (max-width: 360px) {
				.top-right {
					font-size: 0.9em;
				}
				
				.bottom-left, .bottom-right {
					font-size: 0.8em;
				}
				
				.logo {
					max-width: 70px;
				}
				
				.centered-logo {
					max-width: 70px;
					margin-bottom: 12px;
				}
				
				.title-above {
					top: 0%;
					padding: 30px 5px 30px 5px;
					margin-top: 1px;
				}
				
				.byob-text {
					font-size: 3em;
					max-width: 300px;
				}
				
				.main-title {
					font-size: 1.8em;
					max-width: 300px;
				}
				
				.bottom-logo {
					max-width: 80px;
				}
				
				.footer-info {
					font-size: 0.7em;
					margin-top: 6px;
				}
				
				.divider {
					margin: 0 4px;
				}
				
				.ready-button {
					padding: 8px 16px;
					font-size: 0.9em;
				}
			}
		</style>
	</head>
	<body>
		<!-- 3D Fireworks Canvas -->
		<canvas id="fireworks-canvas"></canvas>
		
		<!-- Optimized Background Video with lazy loading -->
		<video class="bg-video" id="bgVideo" preload="none" autoplay muted loop playsinline poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600'%3E%3Crect width='100%25' height='100%25' fill='%23f8f9fa'/%3E%3C/svg%3E">
			<source src="https://pub-6cc4523d456f472f9551ffbb385c3633.r2.dev/VIDEO%20FINAL.mp4" type="video/mp4">
			Your browser does not support the video tag.
		</video>
		
		<!-- Top Left: Logo -->
		<div class="corner top-left">
			<!-- Logo moved to center, this div now empty -->
		</div>
		
		<!-- Top Right: Empty now -->
		<div class="corner top-right">
			<!-- Title moved to center above video -->
		</div>
		
		<!-- Title above video -->
		<div class="title-above">
			<div class="byob-text">BYOB</div>
			<div class="main-title">BUILD YOUR<br>OWN BASKET</div>
		</div>
		
		<!-- Bottom Left: Website -->
		<div class="corner bottom-left">
			<!-- Moved under logo -->
		</div>
		
		<!-- Bottom Right: Instagram -->
		<div class="corner bottom-right">
			<!-- Moved under logo -->
		</div>
		
		<!-- Center Content: Button -->
		<div class="center-content">
			<button class="ready-button">Tap to explore</button>
		</div>
		
		<!-- Logo below video with footer info -->
		<div class="logo-bottom">
			<picture>
				<source srcset="logo.webp" type="image/webp">
				<picture>
                <source srcset="logo.webp" type="image/webp">
                <img src="logo.png" alt="Flyberry Logo" class="bottom-logo" width="180" height="auto">
            </picture>
			</picture>
			<div class="footer-info">
				<span class="website-text">www.flyberry.in</span>
				<span class="divider">â€¢</span>
				<span class="instagram-text">@flyberrygourmet</span>
			</div>
		</div>
		
		<!-- Optimized script loading with performance monitoring -->
		<script>
			// Ultra-performance loading strategy with service worker
			
			// Register service worker for instant caching
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', () => {
					navigator.serviceWorker.register('/sw.js')
						.then(reg => console.log('SW registered'))
						.catch(err => console.log('SW registration failed'));
				});
			}
			
			// Performance-optimized resource loading
			window.addEventListener('load', () => {
				// Load Three.js only after page is fully loaded
				const script = document.createElement('script');
				script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
				script.onload = () => {
					// Load main script after Three.js
					const mainScript = document.createElement('script');
					mainScript.src = 'js/optimized.js';
					document.head.appendChild(mainScript);
				};
				document.head.appendChild(script);
				
				// Start video loading after scripts
				const video = document.getElementById('bgVideo');
				if (video && video.preload === 'none') {
					video.preload = 'auto';
				}
			});
			
			// Intelligent navigation preloading
			const prefetchPages = () => {
				const pages = ['selection.html', 'byob.html', 'premade.html'];
				pages.forEach(page => {
					const link = document.createElement('link');
					link.rel = 'prefetch';
					link.href = page;
					document.head.appendChild(link);
				});
			};
			
			// Adaptive prefetching based on connection
			if (navigator.connection) {
				const conn = navigator.connection;
				if (conn.effectiveType === '4g' || conn.downlink > 2) {
					setTimeout(prefetchPages, 1000); // Fast connection
				} else {
					setTimeout(prefetchPages, 3000); // Slower connection
				}
			} else {
				setTimeout(prefetchPages, 2000); // Default
			}
			
			// Performance monitoring
			window.addEventListener('load', () => {
				if ('performance' in window) {
					const perf = performance.getEntriesByType('navigation')[0];
					console.log(`Load time: ${Math.round(perf.loadEventEnd - perf.loadEventStart)}ms`);
				}
			});
		</script>
	</body>
</html>

